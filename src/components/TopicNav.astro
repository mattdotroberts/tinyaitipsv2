---
import { topics, getTipsByTopic } from '../lib/data';

interface Props {
  currentSlug?: string;
}

const { currentSlug } = Astro.props;
---

<nav class="space-y-1">
  {topics.map(topic => {
    const tipCount = getTipsByTopic(topic.id).length;
    const isActive = topic.slug === currentSlug;
    return (
      <a
        href={`/topics/${topic.slug}`}
        class:list={[
          'flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors',
          isActive
            ? 'bg-blue-50 text-blue-700 font-medium'
            : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900',
        ]}
      >
        <span>{topic.name}</span>
        <span class:list={[
          'text-xs px-2 py-0.5 rounded-full',
          isActive ? 'bg-blue-100' : 'bg-gray-100 text-gray-500',
        ]}>
          {tipCount}
        </span>
      </a>
    );
  })}
</nav>
